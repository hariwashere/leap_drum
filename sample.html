<!DOCTYPE html>
<html>
<head>
	<script src="processing.js"></script>
	<body>
		<script type="application/processing">
			int numBalls = 4;
			float spring = 0.05;
			float gravity = 0.01;
			float min_distance = 40.0;
			float velocity = 4.0;
			float distance_moved_since_last_creation = 0.0;
			Ball[] balls = new Ball[numBalls];

			void setup() 
			{
				size(1900, 800);
				noStroke();
				smooth();
				balls[0] = new Ball(260, 90, 30, 0);
				balls[1] = new Ball(720, 90, 30, 1);
				balls[2] = new Ball(1180, 90, 30, 2);
				balls[3] = new Ball(1640, 90, 30, 3);
			}

			void draw() 
			{
				background(0);
				for (int i = 0; i < numBalls; i++) {
					balls[i].move();
					balls[i].display();
					void create_balls();  
				}
				distance_moved_since_last_creation += 1.0;
			}

			void create_balls(){
				if(distance_moved_since_last_creation > min_distance){
					int i = int(random(3));
					balls[numBalls] = new Ball((460 * i) + 260, 90, 30, numBalls);
					distance_moved_since_last_creation = 0.0;
					numBalls++;
				}	
			}
		

			class Ball {
				float x, y;
				float diameter;
				float vx = 0;
				float vy = 0;
				int id;

				Ball(float xin, float yin, float din, int idin) {
					x = xin;
					y = yin;
					diameter = din;
					id = idin;
				} 
			
				void move() {					
					y += velocity;
				}

				void display() {
					fill(255, 204);
					ellipse(x, y, diameter, diameter);
				}
			}
		</script><canvas width="200" height="200"></canvas></p>
		<div style="height:0px;width:0px;overflow:hidden;"></div>
	</body>
	</html>
